<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pappus's Second Theorem Visualization</title>
    <link rel="stylesheet" href="style.css">
    <!-- Import maps for Three.js modules (use CDN links) -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.163.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.163.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <div id="container">
        <div id="ui-controls">
            <h1>Pappus's Second Theorem Demo</h1>
            <p>Surface Area = Total Length (L) * Centroid Path Distance (d)</p>

            <div id="segments-section">
                <h2>Segments</h2>
                <button id="addSegmentBtn">Add Segment</button>
                <div id="segmentsContainer">
                    <!-- Segment inputs will be added here -->
                </div>
            </div>

            <div id="settings-section">
                <h2>Settings</h2>
                <label>Axis of Rotation:</label>
                <label><input type="radio" name="axis" value="x"> X</label>
                <label><input type="radio" name="axis" value="y" checked> Y</label>
                <label><input type="radio" name="axis" value="z"> Z</label>
                <br><br>
                <label for="revolutionSlider">Revolution Angle:</label>
                <input type="range" id="revolutionSlider" min="0" max="360" value="360" step="1">
                <span id="angleValue">360</span>°
            </div>

            <div id="calculations-section">
                <h2>Calculations (Full Revolution)</h2>
                <div>Total Length (L): <span id="totalLength">0.00</span></div>
                <div>Polyline Centroid (C): <span id="centroidCoords">N/A</span></div>
                <div>Distance from Centroid to Axis (R): <span id="centroidDistanceR">0.00</span></div>
                <div>Distance Traveled by Centroid (d = 2πR): <span id="centroidDistanceD">0.00</span></div>
                <div>Calculated Surface Area (Area = L * d): <span id="surfaceArea">0.00</span></div>
            </div>
             <div id="instructions">
                <p><strong>Instructions:</strong></p>
                <ul>
                    <li>Use 'Add Segment' to define points (e.g., P1=(0,1,0), P2=(1,1,0)).</li>
                    <li>Use mouse (left-drag: rotate, right-drag: pan, wheel: zoom) to view.</li>
                    <li>Select rotation axis (X, Y, or Z).</li>
                    <li>Adjust the slider to see partial revolution.</li>
                    <li>Calculations update automatically for the full 360° revolution.</li>
                </ul>
            </div>
        </div>

        <div id="visualization-container">
            <canvas id="visualizationCanvas"></canvas>
        </div>
    </div>

    <!-- Template for segment input fields -->
    <template id="segmentTemplate">
        <div class="segment-input">
            <hr>
            <button class="removeSegmentBtn">Remove Segment</button>
            <div>
                P1:
                (X:<input type="number" class="coord p1x" value="0" step="0.1">,
                 Y:<input type="number" class="coord p1y" value="0" step="0.1">,
                 Z:<input type="number" class="coord p1z" value="0" step="0.1">)
            </div>
             <div>
                P2:
                (X:<input type="number" class="coord p2x" value="1" step="0.1">,
                 Y:<input type="number" class="coord p2y" value="1" step="0.1">,
                 Z:<input type="number" class="coord p2z" value="0" step="0.1">)
            </div>
        </div>
    </template>

    <script type="module" src="script.js"></script>
</body>
</html>
